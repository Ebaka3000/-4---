# my-web-server

## Описание
Этот проект представляет собой веб-сервер с кэшированием данных и интеграцией с брокером сообщений NATS Streaming. Сервер получает данные через подписку на канал, сохраняет их в PostgreSQL и кэширует в памяти для быстрого доступа.

## Структура проекта
```
my-web-server
├── cmd
│   └── main.go               # Точка входа приложения
├── internal
│   ├── cache
│   │   └── cache.go          # Реализация кэша в памяти
│   ├── database
│   │   └── postgres.go       # Работа с PostgreSQL
│   ├── http
│   │   └── server.go         # Настройка HTTP сервера
│   ├── messaging
│   │   └── nats.go           # Работа с NATS Streaming
│   └── models
│       └── model.go          # Определение моделей данных
├── scripts
│   └── publish_data.go       # Скрипт для публикации тестовых данных
├── config
│   └── config.go             # Конфигурация приложения
├── model.json                # Определение модели данных
├── go.mod                    # Модуль и зависимости
├── go.sum                    # Контрольные суммы зависимостей
└── README.md                 # Документация проекта
```

## Установка
1. Убедитесь, что у вас установлен Go и PostgreSQL.
2. Клонируйте репозиторий:
   ```
   git clone <URL_репозитория>
   cd my-web-server
   ```
3. Установите зависимости:
   ```
   go mod tidy
   ```

## Запуск
1. Настройте PostgreSQL и создайте базу данных.
2. Запустите NATS Streaming сервер локально.
3. Запустите приложение:
   ```
   go run cmd/main.go
   ```

## Использование
- HTTP сервер будет доступен по адресу `http://localhost:8080`.
- Вы можете отправлять запросы к API для получения данных по ID.

## Тестирование
- Для проверки работы подписки используйте скрипт `scripts/publish_data.go`.

## Бонус
- Проект включает автотесты и стресс-тесты для оценки производительности.